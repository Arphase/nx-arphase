<form nz-form
      nz-row
      nzLayout="vertical"
      [formGroup]="form"
      (ngSubmit)="submit()">
  <nz-space nzDirection="vertical"
            nz-col
            nzSpan="24"
            nzSize="middle">
    <nz-page-header nzBackIcon
                    [nzTitle]="item?.id ? 'Editar Vehículo' : 'Nuevo Vehículo'"
                    [routerLink]="['..']">
    </nz-page-header>

    <div *ngIf="invalidVin"
         nz-row
         [nzGutter]="12"
         class="my-3">
      <div nz-col
           nzSpan="24"
           class="bg-alert text-white py-3 rounded flex-start">
        <i nz-icon
           nzType="close-circle"
           nzTheme="outline"></i>
        <span> Un vehículo con este VIN ya está dado de alta en la plataforma. Intente con otro VIN. </span>
      </div>
    </div>

    <ivt-vehicle-form [form]="form"
                      [showCompanyInput]="showCompanyInput"
                      [companyOptions]="companyOptions"
                      [companiesInfo]="companiesInfo"
                      (getCompanies)="getCompanies.emit($event)"
                      (verifyVin)="verifyVin.emit($event)"></ivt-vehicle-form>

    <nz-space-item *ngIf="isEditable"
                   nz-row>
      <div nz-col
           nzSpan="24"
           class="flex-end">
        <nz-space>
          <nz-space-item>
            <button nz-button
                    type="button"
                    [routerLink]="['..']">
              Cancelar
            </button>
          </nz-space-item>
          <button nz-button
                  type="submit"
                  nzType="primary"
                  [nzLoading]="loading">
            Guardar
          </button>
        </nz-space>
      </div>
    </nz-space-item>
  </nz-space>
</form>
