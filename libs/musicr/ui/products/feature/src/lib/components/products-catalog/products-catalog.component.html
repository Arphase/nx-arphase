<div class="center">
  @if (loading()) {
  <div nz-row
       class="px-8 py-16"
       [nzGutter]="[16, 16]">
    @for (product of mockArray; track product.id) {
    <div nz-col
         nzXs="12"
         nzMd="6"
         nzLg="6">
      <div nz-row>
        <div nz-col
             nzSpan="24"
             class="products()-catalog-skeleton mb-3">
          <nz-skeleton-element nzType="image"
                               [nzActive]="true" />
        </div>
        <div nz-col
             nzSpan="24">
          <nz-skeleton-element nzType="input"
                               class="w-full"
                               [nzActive]="true" />
        </div>
      </div>
    </div>
    }
  </div>
  } @else {
  <div class="scroll-spacing">
    <div class="m-scroll-left rotate-9 scroll-over">
      <div class="m-scroll-left__title">
        <div class="t-10">
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p></p>
        </div>
      </div>
    </div>

    <div class="m-scroll-right rotate-15 scroll-over-2">
      <div class="m-scroll-right__title">
        <div>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>{{ title() }}&nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }} &nbsp; &nbsp; {{ title() }}&nbsp;
            &nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
        </div>
      </div>
    </div>
  </div>

  <div class="space pb-5">
    <div nz-row
         class="mb-5">
      <div nz-col
           nzXs="0"
           nzLg="24"
           class="lg:flex items-end justify-end">
        <aps-range-filter label="Precio"
                          [buttonStyles]="buttonStyles"
                          [dropdownStyles]="dropdownStyles"
                          (filterItems)="filterPrice($event)" />

        <aps-checkbox-filter label="Tipo de evento"
                             [showSearchbar]="false"
                             [buttonStyles]="buttonStyles"
                             [dropdownStyles]="dropdownStyles"
                             [options]="eventTypeOptions"
                             (filterItems)="filterEventType($event)" />

        <nz-select class="text-left w-52"
                   nzPlaceHolder="Ordenar"
                   [nzLoading]="loadingSort()"
                   [(ngModel)]="sortingOption"
                   [nzOptions]="sortOptions"
                   (ngModelChange)="sort.emit($event)" />
      </div>
      <div nz-col
           nzXs="12"
           nzLg="0">
        <div nz-row>
          <div nz-col
               nzSpan="24"
               class="flex items-center justify-start mb-3">
            <aps-range-filter label="Precio"
                              [buttonStyles]="buttonStyles"
                              [dropdownStyles]="dropdownStyles"
                              (filterItems)="filterPrice($event)" />
          </div>
          <div nz-col
               nzSpan="24"
               class="flex items-center justify-start mb-3">
            <aps-checkbox-filter label="Tipo de evento"
                                 [showSearchbar]="false"
                                 [buttonStyles]="buttonStyles"
                                 [dropdownStyles]="dropdownStyles"
                                 [options]="eventTypeOptions"
                                 (filterItems)="filterEventType($event)" />
          </div>
          <div nz-col
               nzSpan="24"
               class="flex items-center justify-start">
            <nz-select class="text-left w-52"
                       nzPlaceHolder="Ordenar"
                       [nzLoading]="loadingSort()"
                       [(ngModel)]="sortingOption"
                       [nzOptions]="sortOptions"
                       (ngModelChange)="sort.emit($event)" />
          </div>
        </div>
      </div>
    </div>
    <div nz-row
         nzGutter="16">
      @for (product of products(); track product.id) {
      <div nz-col
           nzXs="12"
           nzMd="6"
           nzLg="6"
           [routerLink]="['../..', 'product', product.id]">
        <div nz-row
             class="mb-2">
          <div nz-col
               nzSpan="24">
            <img class="w-full product-photo rounded cursor-pointer loading"
                 loading="lazy"
                 nz-tooltip
                 nzTooltipTitle="Más información..."
                 [src]="product.photos[0]?.url"
                 [alt]="product.name" />
          </div>
        </div>
        <div nz-row>
          <div nz-col
               nzSpan="24"
               class="text-left mb-3">
            <h6 class="text-sm font-bold">{{ product.name }}</h6>
            <span class="text-xs"
                  [ngClass]="{'line-through mr-3': product.hasActivePromotion}">
              {{ product.price | currency }} MXN
            </span>
            @if (product.hasActivePromotion) {
            <span class="text-sm font-bold">{{ product | mapper: priceMapper | currency }} MXN</span>
            }
          </div>
        </div>
      </div>
      }
    </div>
  </div>
  }
  @if (!loading() && !products()?.length) {
  <div nz-row>
    <div nz-col
         nzSpan="24"
         class="flex justify-center items-center py-12 bg-gray-200">
      <span class="text-2xl font-bold">No se encontraron resultados</span>
    </div>
  </div>
  }
</div>