<form nz-form
      nzLayout="vertical"
      [formGroup]="form"
      (ngSubmit)="submit()">
  <nz-table #table
            nzSize="small"
            [nzData]="guaranteesFormArray.value"
            [nzShowPagination]="false">
    <thead>
      <tr nz-row>
        <th *ngFor="let column of columns"
            nz-col
            [nzXs]="column.colSizes?.xs"
            [nzMd]="column.colSizes?.md">
          {{ column.label }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let guarantee of guaranteesFormArray.controls"
          nz-form
          nz-row
          nzLayout="vertical"
          [formGroup]="guarantee">
        <td nz-col
            nzXs="12"
            nzMd="4">{{ guarantee.value.id | folio }}</td>
        <td nz-col
            nzXs="12"
            nzMd="7">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <nz-date-picker formControlName="invoiceDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </td>
        <td nz-col
            nzXs="12"
            nzMd="7">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <input nz-input
                     formControlName="invoiceNumber" />
            </nz-form-control>
          </nz-form-item>
        </td>
        <td nz-col
            nzXs="12"
            nzMd="6">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <input nz-input
                     prefix="$"
                     mask="separator.2"
                     thousandSeparator=","
                     formControlName="amount" />
            </nz-form-control>
          </nz-form-item>
        </td>
      </tr>
    </tbody>
  </nz-table>
</form>
