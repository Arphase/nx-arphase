<button *ngIf="control && control.get('startDate') && control.get('endDate')"
        class="ivt-filter"
        [ngClass]="{'active-filter': showActiveStatus}"
        nz-dropdown
        [nzDropdownMenu]="menu"
        nzTrigger="click">
  <span *ngIf="mappedTitle"
        class="ivt-button-label">
    {{ mappedTitle }}
  </span>
  <span *ngIf="!mappedTitle"
        class="ivt-button-label">
    {{ label }}
  </span>
  <i *ngIf="!showActiveStatus"
     nz-icon
     nzType="down"
     nzTheme="outline"
     class="right"></i>

  <i nz-icon
     *ngIf="showActiveStatus"
     nzType="close"
     nzTheme="outline"
     class="delete-icon right"
     (click)="deleteFilters(); $event.stopPropagation()"></i>
</button>
<nz-dropdown-menu #menu="nzDropdownMenu">
  <div nz-menu
       class="content"
       (click)="$event.stopPropagation()">
    <div nz-row
         [nzGutter]="[24, 8]">
      <div nz-col
           class="p-0">
        <div class="mb-3"
             *ngIf="dateTypeOptions.length">
          <mat-radio-group [formControl]="control.get('dateType')">
            <ng-container *ngFor="let option of dateTypeOptions">
              <mat-radio-button class="mr-3"
                                [value]="option.value"
                                (click)="$event.stopPropagation()">{{ option.label }}</mat-radio-button>
            </ng-container>
          </mat-radio-group>
        </div>
      </div>
    </div>

    <div nz-row
         [nzGutter]="[24, 8]">
      <div nz-col
           nxSpan="12">
        <mat-form-field>
          <mat-label>Fecha inicial</mat-label>
          <input matInput
                 [formControl]="control.get('startDate')"
                 [matDatepicker]="startDate">
          <mat-datepicker-toggle matSuffix
                                 [for]="startDate"></mat-datepicker-toggle>
          <mat-datepicker #startDate></mat-datepicker>
        </mat-form-field>
      </div>
      <div nz-col
           nxSpan="12">
        <mat-form-field>
          <mat-label>Fecha final</mat-label>
          <input matInput
                 [formControl]="control.get('endDate')"
                 [matDatepicker]="endDate">
          <mat-datepicker-toggle matSuffix
                                 [for]="endDate"></mat-datepicker-toggle>
          <mat-datepicker #endDate></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <div *ngIf="showError"
         nz-row
         [nzGutter]="[24, 8]"
         class="small">
      <div nz-col
           nzSpan="24"
           class="text-alert">
        <span>La fecha inicial no puede ser despu√©s que la fecha final</span>
      </div>
    </div>
  </div>
</nz-dropdown-menu>
