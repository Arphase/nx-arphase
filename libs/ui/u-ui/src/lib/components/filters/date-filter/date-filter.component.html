<button *ngIf="control && control.get('startDate') && control.get('endDate')"
        class="ivt-filter"
        [ngClass]="{'active-filter': showActiveStatus}"
        nz-dropdown
        [nzDropdownMenu]="menu"
        nzTrigger="click">
  <span *ngIf="mappedTitle"
        class="ivt-button-label">
    {{ mappedTitle }}
  </span>
  <span *ngIf="!mappedTitle"
        class="ivt-button-label">
    {{ label }}
  </span>
  <i *ngIf="!showActiveStatus"
     nz-icon
     nzType="down"
     nzTheme="outline"
     class="right"></i>

  <i nz-icon
     *ngIf="showActiveStatus"
     nzType="close"
     nzTheme="outline"
     class="delete-icon right"
     (click)="deleteFilters(); $event.stopPropagation()"></i>
</button>
<nz-dropdown-menu #menu="nzDropdownMenu">
  <div nz-menu
       nz-form
       nzLayout="vertical"
       [formGroup]="form"
       class="content"
       (click)="$event.stopPropagation()">
    <div nz-row
         [nzGutter]="[24, 8]">
      <div nz-col
           class="p-0">
        <div class="mb-3"
             *ngIf="dateTypeOptions.length">
          <nz-form-item>
            <nz-form-control>
              <nz-radio-group formControlName="dateType">
                <label *ngFor="let option of dateTypeOptions"
                       nz-radio
                       [nzValue]="option.value"
                       (click)="$event.stopPropagation()">{{ option.label }}</label>
              </nz-radio-group>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
    </div>

    <div nz-row
         [nzGutter]="[24, 8]">
      <div nz-col
           nxSpan="12">
        <nz-form-item>
          <nz-form-label nzRequired>Fecha inicial</nz-form-label>
          <nz-form-control apsAutoError>
            <nz-date-picker class="w-100"
                            formControlName="startDate"></nz-date-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col
           nxSpan="12">
        <nz-form-item>
          <nz-form-label nzRequired>Fecha final</nz-form-label>
          <nz-form-control apsAutoError>
            <nz-date-picker class="w-100"
                            formControlName="endDate"></nz-date-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div *ngIf="showError"
         nz-row
         [nzGutter]="[24, 8]"
         class="small">
      <div nz-col
           nzSpan="24"
           class="text-alert">
        <span>La fecha inicial no puede ser despu√©s que la fecha final</span>
      </div>
    </div>
  </div>
</nz-dropdown-menu>
