<ivt-row>
  <div nz-col
       class="or-status {{ backgroundClasses[item.status] }}"
       (mouseenter)="showStatusSubject.next(true)"
       (click)="showStatusSubject.next(true)"></div>

  <div [ngClass]="{ collapsed: !(visibleStatus$ | async)}"
       nz-col
       class="or-status-description {{ backgroundClasses[item.status] }} text-center p-3 flex-center">
    <div class="mx-2">
      <p class="text-white mb-0">{{ statusLabels[item.status] }}</p>
    </div>
  </div>
  <div nz-col
       class="-2 d-none d-lg-block d-xl-block">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.vin | empty"></p>
  </div>
  <div nz-col
       class="-6 col-md-2 d-none d-sm-block d-md-block d-lg-block d-xl-block">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.brand | empty"></p>
  </div>
  <div nz-col
       class="-5 col-md-2">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.model | empty"></p>
  </div>
  <div nz-col
       class="-2 d-none d-sm-block d-md-block d-lg-block d-xl-block">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.version | empty"></p>
  </div>
  <div nz-col
       class="-4 col-md-2 col-lg-1">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.year | empty"></p>
  </div>
  <div nz-col
       class="-2 d-none d-sm-block d-md-block d-lg-block d-xl-block">
    <p nz-typography
       nzEllipsis
       nzCopyable
       class="m-0"
       [nzContent]="item.createdAt | date: 'dd/MM/yy'"></p>
  </div>
  <div nz-col
       class="flex-end pl-0">
    <button nz-button
            nz-dropdown
            [nzDropdownMenu]="menu"
            nzType="text"
            nz-tooltip
            nzTooltipTitle="Acciones"
            nzTrigger="click">
      <i nz-icon
         nzType="more"
         nzTheme="outline"></i>
    </button>

    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu>
        <li nz-menu-item
            nz-tooltip
            [nzTooltipTitle]="!isElegible ?  'Solo se pueden generar garantías a los vehículos aptos para garantizar' : ''"
            [nzDisabled]="!isElegible"
            (click)="isElegible && createGuarantee.emit(item)">
          Generar garantía
        </li>
        <li nz-menu-item
            *ngIf="canManageRevisions"
            (click)="goToRevisions.emit(item)">
          Manejar revisiones
        </li>
        <li nz-menu-item
            *ngIf="canCreateReviewRequest"
            (click)="createRevisionRequest.emit(item)">
          Solicitar revisión
        </li>
        <li nz-menu-item
            [routerLink]="[item.id]">
          Editar vehículo
        </li>
        <li nz-menu-item
            class="text-danger"
            (click)="delete.emit(item)">
          Eliminar vehículo
        </li>
      </ul>
    </nz-dropdown-menu>
  </div>
</ivt-row>
