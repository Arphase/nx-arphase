<button nz-dropdown
        nz-button
        nzTrigger="click"
        [disabled]="disabled"
        [nzType]="activeOptions ? 'primary' : 'default'"
        [nzDropdownMenu]="menu"
        [nzClickHide]="false">
  {{ mappedTitle || label }}
  <i *ngIf="!activeOptions"
     nz-icon
     nzType="down"
     nzTheme="outline"
     class="right"></i>

  <i nz-icon
     *ngIf="!disabled && activeOptions"
     nzType="close"
     nzTheme="outline"
     class="delete-icon right"
     (click)="deleteFilters(); $event.stopPropagation()"></i>

</button>

<nz-dropdown-menu #menu="nzDropdownMenu">
  <nz-checkbox-wrapper nz-menu
                       (nzOnChange)="onFilterChange($event)">
    <ul nz-menu>
      <li *ngFor="let option of selectedOptions"
          nz-menu-item
          (click)="$event.stopPropagation()">
        <label nz-checkbox
               [(ngModel)]="option.checked"
               [nzValue]="option">{{ option.label }}</label>
      </li>
    </ul>
  </nz-checkbox-wrapper>
</nz-dropdown-menu>
