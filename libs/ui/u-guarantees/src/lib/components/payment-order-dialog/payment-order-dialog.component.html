<form nz-form
      nzLayout="vertical"
      [formGroup]="form"
      (ngSubmit)="submit()">
  <nz-table #table
            nzSize="small"
            [nzData]="guaranteesFormArray.value"
            [nzShowPagination]="false">
    <thead>
      <tr nz-row>
        <th *ngFor="let column of columns"
            nz-col
            [nzXs]="column.colSizes?.xs">
          {{ column.label }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let guarantee of guaranteesFormArray.controls"
          nz-row
          nz-form
          nzLayout="vertical"
          nz-row
          [formGroup]="guarantee"
          [nzGutter]="12">
        <td nz-col
            nzXs="4">{{ guarantee.value.id | folio }}</td>
        <td nz-col
            nzXs="10">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <nz-date-picker formControlName="invoiceDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </td>
        <td nz-col
            nzXs="10">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <input nz-input
                     prefix="$ "
                     mask="0*.00"
                     formControlName="amount" />
            </nz-form-control>
          </nz-form-item>
        </td>
      </tr>
    </tbody>
  </nz-table>
</form>
