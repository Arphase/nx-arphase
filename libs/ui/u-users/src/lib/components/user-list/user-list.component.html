<div nz-row
     [nzGutter]="[24, 8]">
  <div nz-col
       class="-9 col-md-6">
    <ivt-searchbar (valueChange)="updateSearchBarFilter($event)"></ivt-searchbar>
  </div>

  <div nz-col
       class="-2 flex-start">
    <button nz-button
            nzType="text"
            [ngClass]="{ 'bg-primary text-white': showFilters }"
            matTooltip="Filtrar"
            (click)="toggleFilter()">
      <mat-icon>filter_alt</mat-icon>
    </button>
  </div>
</div>

<div [hidden]="!showFilters"
     nz-row
     [nzGutter]="[24, 8]"
     class="bg-light mx-0 mb-4 rounded mt-3 py-3 px-2">
  <div nz-col
       class="-auto px-1 my-2 filter-column">
    <ivt-checkbox-filter *ngIf="groupOptions?.length"
                         class="mr-3"
                         label="Grupos"
                         [options]="groupOptions"
                         (filterItems)="updateGroupsFilters($event)">
    </ivt-checkbox-filter>
  </div>
  <div nz-col
       class="-auto px-1 my-2 filter-column">
    <ivt-checkbox-filter *ngIf="companyOptions?.length"
                         class="mr-3"
                         label="Compañías"
                         [options]="companyOptions"
                         (filterItems)="updateCompaniesFilters($event)">
    </ivt-checkbox-filter>
  </div>
</div>

<ivt-empty-state *ngIf="!list.length"
                 message="No existen productos.">
</ivt-empty-state>

<ng-container *ngIf="list.length">
  <ivt-table-header class="d-block mt-4"
                    [columns]="columns"
                    (sort)="updateSort($event)"></ivt-table-header>

  <ivt-virtual-scroll height="60vh"
                      [list]="list"
                      [ignoreNextBatch]="!hasMoreItems || loading"
                      (nextBatchEmitter)="getMoreItems.emit()">
    <ng-template let-item>
      <ivt-user-row [item]="item"></ivt-user-row>
    </ng-template>
  </ivt-virtual-scroll>
</ng-container>
