<form [formGroup]="form"
      (ngSubmit)="submit()">
  <div nz-row>
    <div nz-col
         nzSpan="24">
      <nz-page-header nzBackIcon
                      [nzTitle]="item?.id ? 'Nuevo Producto' : 'Editar Producto'"
                      [routerLink]="['..']">
      </nz-page-header>
    </div>
  </div>

  <div class="pt-3">
    <div nz-row
         [nzGutter]="[24, 8]">
      <div nz-col
           nzMd="24"
           nzLg="12">
        <nz-form-item>
          <nz-form-label nzRequired>Nombre del producto</nz-form-label>
          <nz-form-control apsAutoError>
            <input nz-input
                   formControlName="name" />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col
           nzMd="24"
           nzLg="12">
        <!-- TODO: Use ng zorro file uploader -->
      </div>
    </div>

    <div nz-row
         [nzGutter]="[24, 8]"
         class="mt-4 mb-3">
      <div nz-col
           nzSpan="8"
           class="-lg-4 col-4">
        <nz-form-item>
          <nz-form-label nzRequired>Precio</nz-form-label>
          <nz-form-control apsAutoError>
            <input nz-input
                   prefix="$ "
                   mask="0*.00"
                   formControlName="price" />
          </nz-form-control>
        </nz-form-item>
      </div>

      <div nz-col
           nzSpan="8"
           class="px-0 ml-auto">
        <nz-form-item>
          <nz-form-label nzRequired>Glosario</nz-form-label>
          <nz-form-control apsAutoError>
            <nz-select formControlName="glosary">
              <nz-option *ngFor="let option of glossaryOptions"
                         [nzValue]="option.value"
                         [nzLabel]="option.label"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row
         [nzGutter]="[24, 8]"
         class="mb-3">
      <div nz-col
           nzSpan="24">
        <nz-form-item>
          <nz-form-label nzRequired>Cuerpo del producto</nz-form-label>
          <nz-form-control apsAutoError>
            <textarea nz-input
                      formControlName="template"></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row
         [nzGutter]="[24, 8]"
         class="mt-4 mb-3">
      <div nz-col
           class="px-0 flex-end">
        <button nz-button
                class="mr-3"
                type="button"
                [routerLink]="['..']">Cancelar</button>
        <button nz-button
                class="mr-3"
                nzType="primary"
                type="button"
                (click)="downloadTemplatePreview()">Vista previa</button>
        <button nz-button
                type="submit"
                nzType="primary">Guardar</button>
      </div>
    </div>
  </div>
</form>
