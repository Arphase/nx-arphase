<div class="menu-item-container"
     [matTooltip]="menuItem.header"
     [matTooltipDisabled]="menuOpened"
     matTooltipPosition="right">
  <div class="menu-item"
       #rla="routerLinkActive"
       routerLinkActive
       [routerLink]="menuItem.path"
       [class.menu-item--active]="menuItem.children ? (showMenu && rla.isActive) : rla.isActive"
       (click)="toggleMenu()">
    <mat-icon class="menu-item__icon">{{ menuItem?.icon }}</mat-icon>

    <ng-container *ngIf="menuOpened">
      {{ menuItem?.header }}
      <mat-icon *ngIf="menuItem?.children"
                class="menu-item__arrow float-right">
        {{ showMenu ? 'keyboard_arrow_down' : 'keyboard_arrow_right' }}
      </mat-icon>
    </ng-container>
  </div>

  <ul *ngIf="menuItem.children"
      class="menu-item__children"
      [style.maxHeight]="showMenu ? menuItem.children.length * 40 + 'px' : '0'">
    <ng-container *ngFor="let childMenu of menuItem.children">
      <div class="menu-item-container"
           [matTooltip]="childMenu.label">
        <li class="menu-item menu-item__child"
            routerLinkActive="menu-item--active"
            [routerLink]="childMenu.path"
            [class.menu-item--disabled]="childMenu.enabled === false"
            *ngIf="childMenu.display">
          {{ childMenu.label }}
        </li>
      </div>
    </ng-container>
  </ul>
</div>
