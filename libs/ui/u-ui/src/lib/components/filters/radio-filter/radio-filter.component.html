<button *ngIf="control"
        class="ivt-filter"
        [ngClass]="{'active-filter': active || control.value !== ''}"
        nz-dropdown
        [nzDropdownMenu]="menu"
        nzTrigger="click">
  <span class="ivt-button-label">{{ mappedTitle || label }}</span>

  <i *ngIf="control.value === '' || control.value == null; else removeFilter"
     nz-icon
     nzType="down"
     nzTheme="outline"
     class="right"></i>

  <ng-template #removeFilter>
    <i nz-icon
       nzType="close"
       nzTheme="outline"
       class="delete-icon right"
       (click)="deleteFilters(); $event.stopPropagation()"></i>
  </ng-template>
</button>

<nz-dropdown-menu #menu="nzDropdownMenu">
  <div nz-menu
       class="content">
    <nz-radio-group [formControl]="control">
      <div *ngFor="let option of options"
           nz-row
           [nzGutter]="[24, 8]">
        <div nz-col
             nzSpan="24"
             class="d-flex">
          <label nz-radio
                 [nzValue]="option.value"
                 (click)="$event.stopPropagation(); filterChanged.emit(option.value)">{{ option.label }}</label>
        </div>
      </div>
    </nz-radio-group>
  </div>
</nz-dropdown-menu>
