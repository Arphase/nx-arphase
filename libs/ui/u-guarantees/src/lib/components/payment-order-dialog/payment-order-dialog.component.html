<form [formGroup]="form"
      (ngSubmit)="submit()">
  <h1 class="text-primary font-weight-light h3">
    {{ item?.id ? 'Editar' : 'Generar' }} Orden de Pago
  </h1>

  <mat-dialog-content>
    <div nz-row
         [nzGutter]="[24, 8]"
         class="mt-3 mb-2">
      <div nz-col
           nzSpan="24">
        <ivt-form-field label="Distribuidor">
          <input ivtInput
                 formControlName="distributor">
        </ivt-form-field>
      </div>
    </div>

    <ivt-table-header [columns]="columns"></ivt-table-header>

    <ivt-row *ngFor="let guarantee of guaranteesFormArray.controls">
      <form [formGroup]="guarantee"
            nz-row
            [nzGutter]="[24, 8]">
        <div nz-col
             nzSpan="4"
             class="flex-start">
          <span>{{ guarantee.value.id | folio }}</span>
        </div>
        <div nz-col
             nzSpan="10">
          <ivt-form-field label="Fecha de factura"
                          [hideLabel]="true">
            <input ivtInput
                   [matDatepicker]="invoiceDate"
                   formControlName="invoiceDate">
            <mat-datepicker-toggle matSuffix
                                   [for]="invoiceDate"></mat-datepicker-toggle>
            <mat-datepicker #invoiceDate></mat-datepicker>
          </ivt-form-field>
        </div>
        <div nz-col
             nzSpan="10">
          <ivt-form-field label="Importe"
                          [hideLabel]="true">
            <input ivtInput
                   formControlName="amount"
                   prefix="$ "
                   mask="0*.00"
                   class="text-right px-3">
          </ivt-form-field>
        </div>
      </form>
    </ivt-row>

  </mat-dialog-content>

  <div mat-dialog-actions
       class="flex-end">
    <button nz-button
            type="button"
            mat-dialog-close>Cancelar</button>
    <button nz-button
            [nzLoading]="loading"
            type="submit"
            nzType="primary">Guardar</button>
  </div>
</form>
