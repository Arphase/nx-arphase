<form nz-form
      nzLayout="vertical"
      [formGroup]="form"
      (ngSubmit)="submit()">
  <h1 class="text-primary font-weight-light h3">
    {{ item?.id ? 'Editar' : 'Generar' }} Orden de Pago
  </h1>

  <mat-dialog-content>
    <div nz-row
         [nzGutter]="[24, 8]"
         class="mt-3 mb-2">
      <div nz-col
           nzSpan="24">
        <nz-form-item>
          <nz-form-label nzRequired>Distribuidor</nz-form-label>
          <nz-form-control apsAutoError>
            <input nz-input
                   formControlName="distributor" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <ivt-table-header [columns]="columns"></ivt-table-header>

    <ivt-row *ngFor="let guarantee of guaranteesFormArray.controls">
      <form [formGroup]="guarantee"
            nz-row
            [nzGutter]="[24, 8]">
        <div nz-col
             nzSpan="4"
             class="flex-start">
          <span>{{ guarantee.value.id | folio }}</span>
        </div>
        <div nz-col
             nzSpan="10">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <nz-date-picker class="w-100"
                              formControlName="invoiceDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col
             nzSpan="10">
          <nz-form-item>
            <nz-form-control apsAutoError>
              <input nz-input
                     prefix="$ "
                     mask="0*.00"
                     formControlName="amount" />
            </nz-form-control>
          </nz-form-item>
        </div>
      </form>
    </ivt-row>

  </mat-dialog-content>

  <div mat-dialog-actions
       class="flex-end">
    <button nz-button
            type="button"
            mat-dialog-close>Cancelar</button>
    <button nz-button
            [nzLoading]="loading"
            type="submit"
            nzType="primary">Guardar</button>
  </div>
</form>
