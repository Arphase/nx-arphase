<div nz-row
     [nzGutter]="[24, 8]">
  <div nz-col
       class="-9 col-md-6">
    <ivt-searchbar (valueChange)="updateSearchBarFilter($event)"></ivt-searchbar>
  </div>
</div>

<nz-divider></nz-divider>

<div nz-row
     [nzGutter]="12">
  <div nz-col>
    <ivt-checkbox-filter *ngIf="groupOptions?.length"
                         label="Grupos"
                         [options]="groupOptions"
                         [preselectedOptions]="queryParams?.groupIds"
                         (filterItems)="updateGroupsFilters($event)">
    </ivt-checkbox-filter>
  </div>
  <div nz-col>
    <ivt-checkbox-filter *ngIf="companyOptions?.length"
                         label="Compañías"
                         [options]="companyOptions"
                         [preselectedOptions]="queryParams?.companyIds"
                         (filterItems)="updateCompaniesFilters($event)">
    </ivt-checkbox-filter>
  </div>
  <div nz-col
       nzFlex="auto"
       class="flex-end">
    {{ info?.pageStart }}-{{ info?.pageEnd }} de {{ info?.total }}
  </div>
</div>

<nz-divider></nz-divider>

<nz-table #table
          nzSize="small"
          [nzData]="list"
          [nzFrontPagination]="false"
          [nzTotal]="info?.total"
          [nzPageIndex]="info?.pageIndex"
          [nzLoading]="loading"
          (nzQueryParams)="filterItems.emit($event)">
  <thead>
    <tr nz-row>
      <th nzSortFn="true"
          nzColumnKey="user.firstName"
          nz-col
          nzMd="6">Nombre</th>
      <th nzSortFn="true"
          nzColumnKey="user.email"
          nz-col
          nzMd="6">Correo</th>
      <th nzSortFn="true"
          nzColumnKey="user.createdAt"
          nz-col
          nzMd="6">Fecha de alta</th>
      <th nzSortFn="true"
          nzColumnKey="company.businessName"
          nz-col
          nzMd="6">Compañía</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of table.data"
        nz-row>
      <td nz-col
          nzXs="6">{{ item?.firstName }} {{ item?.lastName }}</td>
      <td nz-col
          nzXs="6">{{ item.email | empty }}</td>
      <td nz-col
          nzXs="6">{{ item.createdAt | date: 'dd/MM/yy' }}</td>
      <td nz-col
          nzXs="6">{{ item.company?.businessName | empty }}</td>
    </tr>
  </tbody>
</nz-table>
