<ivt-row>
  <div nz-col
       class="or-status {{ backgroundClasses[item.status] }}"
       (mouseenter)="showStatusSubject.next(true)"
       (click)="showStatusSubject.next(true)"></div>

  <div [ngClass]="{ collapsed: !(visibleStatus$ | async)}"
       nz-col
       class="or-status-description {{ backgroundClasses[item.status] }} text-center p-3 flex-center">
    <div class="mx-2">
      <p class="text-white mb-0">{{ statusLabels[revisionStatus[item.status]] }}</p>
    </div>
  </div>

  <div nz-col
       class="-2">
    <ivt-text-truncate-tooltip [label]="item.observations | empty"></ivt-text-truncate-tooltip>
  </div>
  <div nz-col
       class="-2">
    <ivt-text-truncate-tooltip [label]="item.vehicle?.vin"></ivt-text-truncate-tooltip>
  </div>
  <div nz-col
       class="-2">
    <ivt-text-truncate-tooltip [label]="item.vehicle?.brand"></ivt-text-truncate-tooltip>
  </div>
  <div nz-col
       class="-2">
    <ivt-text-truncate-tooltip [label]="item.vehicle?.model"></ivt-text-truncate-tooltip>
  </div>
  <div nz-col
       class="-2">
    <ivt-text-truncate-tooltip [label]="item.vehicle?.year"></ivt-text-truncate-tooltip>
  </div>
  <div nz-col
       class="-1">
    <ivt-text-truncate-tooltip [label]="item.createdAt | date: 'dd/mm/yy'"></ivt-text-truncate-tooltip>
  </div>

  <div nz-col
       class="ml-auto pl-0">
    <button nz-button
            nz-dropdown
            [nzDropdownMenu]="menu"
            nzType="text"
            matTooltip="Acciones"
            nzTrigger="click">
      <i nz-icon
         nzType="more"
         nzTheme="outline"></i>
    </button>

    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu>
        <div matTooltip="La revisión no se puede editar porque ya pasaron más de tres meses"
             [matTooltipDisabled]="isEditable">
          <li nz-menu-item
              [routerLink]="isEditable ? [item.id] : null"
              [nzDisabled]="!isEditable">
            Editar revisión
          </li>
        </div>

        <div matTooltip="La revisión no se puede eliminar porque ya pasaron más de tres meses"
             [matTooltipDisabled]="isEditable">
          <li nz-menu-item
              [nzDisabled]="!isEditable"
              (click)="isEditable && delete.emit(item)">
            Eliminar revisión
          </li>
        </div>
      </ul>
    </nz-dropdown-menu>
  </div>
</ivt-row>
